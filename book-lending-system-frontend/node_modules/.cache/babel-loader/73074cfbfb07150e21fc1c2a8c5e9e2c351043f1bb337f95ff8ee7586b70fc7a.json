{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  name: \"BookList\",\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pageSize: 10,\n        name: '',\n        isbn: ''\n      }\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get('books', {\n        params: this.params\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n    borrow(book) {\n      console.log('借閱書籍:', book.name);\n    },\n    reset() {\n      this.params = {\n        pageNum: 1,\n        pageSize: 10,\n        name: '',\n        isbn: ''\n      };\n      this.load();\n    },\n    changePageNum(pageNum) {\n      this.params.pageNum = pageNum;\n      this.load();\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","tableData","total","params","pageNum","pageSize","isbn","created","load","methods","get","then","res","code","list","borrow","book","console","log","reset","changePageNum"],"sources":["src/views/home/HomeView.vue"],"sourcesContent":["<template>\n  <div>\n\n    <!-- table area -->\n    <el-table :data=\"tableData\" style=\"width: 100%\" stripe>\n      <el-table-column prop=\"name\" label=\"書名\" width=\"150\"></el-table-column>\n      <el-table-column prop=\"isbn\" label=\"ISBN\" width=\"120\"></el-table-column>\n      <el-table-column prop=\"author\" label=\"作者\" width=\"100\"></el-table-column>\n      <el-table-column prop=\"description\" label=\"書籍內容簡介\"></el-table-column>\n      <el-table-column label=\"書籍狀態\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.status === 'available' ? '在庫' : '借出' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"120\">\n        <template slot-scope=\"scope\">\n          <el-button v-if=\"scope.row.status === 'available'\" type=\"success\" size=\"mini\" @click=\"borrow(scope.row)\">借閱</el-button>\n          <el-button v-else type=\"text\" size=\"mini\" disabled>借閱</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- page -->\n    <el-pagination\n        style=\"margin-top: 20px;\"\n        background\n        :current-page=\"params.pageNum\"\n        :page-size=\"params.pageSize\"\n        @current-change=\"changePageNum\"\n        layout=\"prev, pager, next\"\n        :total=\"total\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"BookList\",\n\n  data() {\n    return {\n      tableData: [],\n      total: 0,\n      params: {\n        pageNum: 1,\n        pageSize: 10,\n        name: '',\n        isbn: '',\n      },\n    };\n  },\n\n  created() {\n    this.load();\n  },\n\n  methods: {\n    load() {\n      request.get('books', { params: this.params }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    },\n\n    borrow(book) {\n      console.log('借閱書籍:', book.name);\n    },\n\n    reset() {\n      this.params = {\n        pageNum: 1,\n        pageSize: 10,\n        name: '',\n        isbn: '',\n      };\n      this.load();\n    },\n\n    changePageNum(pageNum) {\n      this.params.pageNum = pageNum;\n      this.load();\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"],"mappings":"AAoCA,OAAAA,OAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,SAAA;MACAC,KAAA;MACAC,MAAA;QACAC,OAAA;QACAC,QAAA;QACAN,IAAA;QACAO,IAAA;MACA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,IAAA;EACA;EAEAC,OAAA;IACAD,KAAA;MACAV,OAAA,CAAAY,GAAA;QAAAP,MAAA,OAAAA;MAAA,GAAAQ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,SAAA,GAAAW,GAAA,CAAAZ,IAAA,CAAAc,IAAA;UACA,KAAAZ,KAAA,GAAAU,GAAA,CAAAZ,IAAA,CAAAE,KAAA;QACA;MACA;IACA;IAEAa,OAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,UAAAF,IAAA,CAAAjB,IAAA;IACA;IAEAoB,MAAA;MACA,KAAAhB,MAAA;QACAC,OAAA;QACAC,QAAA;QACAN,IAAA;QACAO,IAAA;MACA;MACA,KAAAE,IAAA;IACA;IAEAY,cAAAhB,OAAA;MACA,KAAAD,MAAA,CAAAC,OAAA,GAAAA,OAAA;MACA,KAAAI,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}